<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Configuration &mdash; The Multi-Mission Maximum Likelihood framework  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css" />
      <link rel="stylesheet" type="text/css" href="../_static/dark_mode_css/general.css" />
      <link rel="stylesheet" type="text/css" href="../_static/dark_mode_css/dark.css" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="../_static/dark_mode_js/default_dark.js"></script>
        <script src="../_static/dark_mode_js/theme_switcher.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Logging and Verbosity" href="logging.html" />
    <link rel="prev" title="The 3ML workflow" href="The_3ML_workflow.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            The Multi-Mission Maximum Likelihood framework
              <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Intro</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Local-configuration">Local configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Environment-variables">Environment variables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Run-time-configuration-changes">Run-time configuration changes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging and Verbosity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xspec_users.html">Notes for XSPEC Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="Minimization_tutorial.html">Minimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="Bayesian_tutorial.html">Bayesian Posterior Sampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampler_docs.html">Bayesian Sampler Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modeling.html">Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/API.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/API.html#threeml">threeML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Features and examples:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Analysis_results_showcase.html">Analysis Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="random_variates.html">Random Variates</a></li>
<li class="toctree-l1"><a class="reference internal" href="Point_source_plotting.html">Point source plotting basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="Building_Plugins_from_TimeSeries.html">Constructing plugins from TimeSeries</a></li>
<li class="toctree-l1"><a class="reference internal" href="grb080916C.html">Analyzing GRB 080916C</a></li>
<li class="toctree-l1"><a class="reference internal" href="APEC_doc.html">Fitting XMM-Newton data with the APEC model</a></li>
<li class="toctree-l1"><a class="reference internal" href="joint_BAT_gbm_demo.html">Example joint fit between GBM and Swift BAT</a></li>
<li class="toctree-l1"><a class="reference internal" href="joint_fitting_xrt_and_gbm_xspec_models.html">Joint fitting XRT and GBM data with XSPEC models</a></li>
<li class="toctree-l1"><a class="reference internal" href="flux_examples.html">Point Source Fluxes and Multiple Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="Fermipy_LAT.html">Fermi-LAT via FermiPyLike</a></li>
<li class="toctree-l1"><a class="reference internal" href="Time-energy-fit.html">Time-energy fit</a></li>
<li class="toctree-l1"><a class="reference internal" href="synthetic_spectra.html">Generating Synthetic Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="gof_lrt.html">Goodness of Fit and Model Comparison</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Multi-Mission Maximum Likelihood framework</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Configuration</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Configuration">
<h1>Configuration<a class="headerlink" href="#Configuration" title="Permalink to this heading"></a></h1>
<p>The 3ML configuration sets up defaults that are read in at runtime and is a session wide state that the user can modify at any point during an analysis to alter behavior throughout 3ML.</p>
<p>The configuration is a hierarchical you can import and modify.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">np</span><span class="o">.</span><span class="n">seterr</span><span class="p">(</span><span class="nb">all</span><span class="o">=</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;divide&#39;: &#39;warn&#39;, &#39;over&#39;: &#39;warn&#39;, &#39;under&#39;: &#39;ignore&#39;, &#39;invalid&#39;: &#39;warn&#39;}
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%capture</span>
<span class="kn">from</span> <span class="nn">threeML</span> <span class="kn">import</span> <span class="n">threeML_config</span><span class="p">,</span> <span class="n">show_configuration</span>

<span class="n">show_configuration</span><span class="p">()</span>
</pre></div>
</div>
</div>
<section id="Local-configuration">
<h2>Local configuration<a class="headerlink" href="#Local-configuration" title="Permalink to this heading"></a></h2>
<p>You can store a local configuration read in at the beginning of every session. By default, 3ML looking in <code class="docutils literal notranslate"><span class="pre">~/.config/threeml/*.yml</span></code> for configuration files.</p>
<ul class="simple">
<li><p>You can set your own location with the environment variable <code class="docutils literal notranslate"><span class="pre">THREEML_CONFIG</span></code></p></li>
<li><p>All YAML files in this directiory are considered to be configuration files.</p></li>
</ul>
<p>Multiple configuration files can be added allowing you to have readable seperation between different topics.</p>
<p>E.g, here are two configuration files that modify some plotting defaults and logging defaults in separate files.</p>
<p><code class="docutils literal notranslate"><span class="pre">~/.config/threeml/plotting.yml</span></code></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">plugins</span><span class="p">:</span>
<span class="w">  </span><span class="nt">ogip</span><span class="p">:</span>
<span class="w">    </span><span class="nt">fit_plot</span><span class="p">:</span>
<span class="w">      </span><span class="nt">model_cmap</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Spectral</span>
<span class="w">      </span><span class="nt">data_color</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">grey</span>
<span class="w">      </span><span class="nt">background_color</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">k</span>
<span class="w">      </span><span class="nt">background_mpl_kwargs</span><span class="p">:</span>
<span class="w">        </span><span class="nt">lw</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">.8</span>
<span class="w">        </span><span class="nt">ls</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;-&quot;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">~/.config/threeml/logging.yml</span></code></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">logging</span><span class="p">:</span>
<span class="w">  </span><span class="nt">developer</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">on</span>
<span class="w">  </span><span class="nt">startup_warnings</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">off</span>
</pre></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show_configuration</span><span class="p">(</span><span class="s2">&quot;plugins&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #af5fd7; text-decoration-color: #af5fd7; font-weight: bold">config</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┣━━ </span><span style="color: #af5fd7; text-decoration-color: #af5fd7; font-weight: bold">ogip</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┣━━ </span><span style="color: #af5fd7; text-decoration-color: #af5fd7; font-weight: bold">fit_plot</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">data_cmap: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">MPLCmap.Set1</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">model_cmap: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">MPLCmap.Set1</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">background_cmap: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">MPLCmap.Set1</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">n_colors: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">5</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">step: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">False</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">show_legend: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">True</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">show_residuals: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">True</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">data_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">None</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">model_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">None</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">background_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">None</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">show_background: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">False</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">data_mpl_kwargs: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">None</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">model_mpl_kwargs: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">None</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┗━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">background_mpl_kwargs: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">None</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┣━━ </span><span style="color: #af5fd7; text-decoration-color: #af5fd7; font-weight: bold">data_plot</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">counts_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">#500472</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">background_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">#79cbb8</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">warn_channels_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">#C79BFE</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">bad_channels_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">#FE3131</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┃   ┗━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">masked_channels_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">#566573</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">response_cmap: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">MPLCmap.viridis</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┗━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">response_zero_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">k</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┣━━ </span><span style="color: #af5fd7; text-decoration-color: #af5fd7; font-weight: bold">photo</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃   ┗━━ </span><span style="color: #af5fd7; text-decoration-color: #af5fd7; font-weight: bold">fit_plot</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃       ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">data_cmap: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">MPLCmap.Set1</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃       ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">model_cmap: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">MPLCmap.Set1</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃       ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">background_cmap: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">MPLCmap.Set1</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃       ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">n_colors: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">5</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃       ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">step: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">False</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃       ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">show_legend: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">True</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃       ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">show_residuals: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">True</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃       ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">data_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">None</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃       ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">model_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">None</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃       ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">background_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">None</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃       ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">show_background: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">False</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃       ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">data_mpl_kwargs: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">None</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃       ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">model_mpl_kwargs: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">None</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┃       ┗━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">background_mpl_kwargs: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">None</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┗━━ </span><span style="color: #af5fd7; text-decoration-color: #af5fd7; font-weight: bold">fermipy</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">    ┗━━ </span><span style="color: #af5fd7; text-decoration-color: #af5fd7; font-weight: bold">fit_plot</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">        ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">total_model_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">k</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">        ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">show_background_sources: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">True</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">        ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">shade_fixed_sources: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">True</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">        ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">shade_secondary_sources: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">False</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">        ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">fixed_sources_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">grey</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">        ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">secondary_sources_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">k</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">        ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">data_cmap: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">MPLCmap.Set1</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">        ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">model_cmap: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">MPLCmap.Set1</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">        ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">background_cmap: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">MPLCmap.Set1</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">        ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">step: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">False</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">        ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">show_legend: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">True</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">        ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">show_residuals: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">True</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">        ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">data_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">None</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">        ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">model_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">None</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">        ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">background_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">None</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">        ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">data_mpl_kwargs: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">None</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">        ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">model_mpl_kwargs: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">None</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">        ┗━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">background_mpl_kwargs: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">None</span>
</pre></div>
</div>
<p>The configuration now includes the values from the files.</p>
<section id="Environment-variables">
<h3>Environment variables<a class="headerlink" href="#Environment-variables" title="Permalink to this heading"></a></h3>
<p>It is possible to set configuration values from environment variables. For example, if you are working in a HPC cluster environment and need to log to w write-safe directory: <code class="docutils literal notranslate"><span class="pre">~/.config/threeml/cluster_logging.yml</span></code></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">logging</span><span class="p">:</span>
<span class="w">  </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${env:USER_LOG_DIR}</span>
<span class="w">  </span><span class="nt">developer</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">off</span>
<span class="w">  </span><span class="nt">console</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">off</span>
<span class="w">  </span><span class="nt">startup_warnings</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">off</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">USER_LOG_DIR</span></code> could be a directory where you are allowed to write to disk. At run time, we convert this variable to a path. However, any value can be set. Thus, you can make an adaptable configuration that mutates based on your local workstation.</p>
</section>
</section>
<section id="Run-time-configuration-changes">
<h2>Run-time configuration changes<a class="headerlink" href="#Run-time-configuration-changes" title="Permalink to this heading"></a></h2>
<p>But perhaps you want to change a parameter in the middle of a session? The configuration behaves like a nested dictionary but it has both <em>dot</em> and key access. Let’s take a look at what we can configure:</p>
<p>Perhaps we want the default colors for light curves to be altered for this session:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">threeML_config</span><span class="o">.</span><span class="n">time_series</span><span class="o">.</span><span class="n">background_color</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;#C0392B&#39;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">threeML_config</span><span class="p">[</span><span class="s2">&quot;time_series&quot;</span><span class="p">][</span><span class="s2">&quot;background_color&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;#C0392B&#39;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">threeML_config</span><span class="o">.</span><span class="n">time_series</span><span class="o">.</span><span class="n">background_color</span> <span class="o">=</span> <span class="s2">&quot;green&quot;</span>
<span class="n">show_configuration</span><span class="p">(</span><span class="s2">&quot;time_series&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #af5fd7; text-decoration-color: #af5fd7; font-weight: bold">config</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">light_curve_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">#05716c</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">selection_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">#1fbfb8</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">background_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">green</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">background_selection_color: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">#E74C3C</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">┗━━ </span><span style="color: #af5fd7; text-decoration-color: #af5fd7; font-weight: bold">fit</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">    ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">fit_poly: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">True</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">    ┣━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">unbinned: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">False</span>
<span style="color: #af5fd7; text-decoration-color: #af5fd7">    ┗━━ </span><span style="color: #00ffaf; text-decoration-color: #00ffaf; font-weight: bold">bayes: </span><span style="color: #5f87ff; text-decoration-color: #5f87ff; font-weight: bold">False</span>
</pre></div>
</div>
<p>From this point on in this session, fitting LLE backgrounds will be unbinned. When we close python, the next time we start 3ML, the values set in the configuration file be loaded.</p>
<p>Do not worry about entering incorrect values in the file as 3ML checks both the structure and types of the parameters.</p>
<p>If you modify your configuration at run time and want to save it to a file (<strong>in your configration directory</strong>) try this:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">threeML</span> <span class="kn">import</span> <span class="n">get_current_configuration_copy</span>

<span class="n">get_current_configuration_copy</span><span class="p">(</span><span class="s2">&quot;my_config.yml&quot;</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>If you have a default configuration you would like to add, consider opening a pull request. We would love to hear your ideas.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="The_3ML_workflow.html" class="btn btn-neutral float-left" title="The 3ML workflow" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="logging.html" class="btn btn-neutral float-right" title="Logging and Verbosity" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017--2021, G.Vianello, J. M. Burgess, N. Di Lalla, N. Omodei, H. Fleischhack.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>